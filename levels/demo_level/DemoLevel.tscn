[gd_scene load_steps=16 format=2]

[ext_resource path="res://src/instance/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://icon.png" type="Texture" id=2]
[ext_resource path="res://src/instance/Enemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/scripts/gun.gd" type="Script" id=4]

[sub_resource type="NavigationMesh" id=11]
vertices = PoolVector3Array( -19.5, 0.999999, -11.5, -10.5, 0.999999, -11.5, -10.5, 0.999999, -19.5, -19.5, 0.999999, -19.5, 8.25, 11, -14.75, 9.5, 11, -11, 9.5, 11, -19.5, 5.5, 11, -17.75, 8.25, 11, -14.75, 9.5, 11, -19.5, -9.5, 11, -19.5, -9.5, 11, -10.5, -8.75, 11, -13.75, -9.5, 11, -19.5, -8.75, 11, -13.75, -7.75, 11, -15.5, -9.5, 11, -19.5, -7.75, 11, -15.5, -5.5, 11, -17.75, -9.5, 11, -19.5, -5.5, 11, -17.75, -2.25, 11, -19.25, 0, 11, -19.5, -9.5, 11, -19.5, -2.25, 11, -19.25, 2.25, 11, -19.25, 2.25, 11, -19.25, 9.5, 11, -19.5, 0, 11, -19.5, 2.25, 11, -19.25, 5.5, 11, -17.75, 9.5, 11, -19.5, 10.75, 0.999999, -11.25, 19.5, 0.999999, -11, 19.5, 0.999999, -19.5, 10.75, 0.999999, -19.5, -9.25, 0.999999, -19.25, -9.25, 0.999999, -13.25, -8, 0.999999, -15.75, -9.25, 0.999999, -19.25, -8, 0.999999, -15.75, -5.75, 0.999999, -18, -9.25, 0.999999, -19.25, -5.75, 0.999999, -18, -3.25, 0.999999, -19, 8, 0.999999, -15.75, 9.5, 0.999999, -12.5, 9.5, 0.999999, -19.25, 5.75, 0.999999, -18, 8, 0.999999, -15.75, 9.5, 0.999999, -19.25, 3.25, 0.999999, -19.25, 5.75, 0.999999, -18, 9.5, 0.999999, -19.25, 8.25, 0.999999, -9.75, 8.25, 0.999999, -11.75, 7.5, 0.999999, -13.75, 5, 0.999999, -16.75, 1.75, 0.999999, -18.25, -1.75, 0.999999, -18.25, -6.75, 0.999999, -15, -8.25, 0.999999, -11.75, -8.25, 0.999999, -9.75, -1.75, 0.999999, -18.25, -4.25, 0.999999, -17.25, -6.75, 0.999999, -15, -8.25, 0.999999, -9.75, 8.75, 0.999999, -9.25, 8.25, 0.999999, -9.75, -10.25, 0.999999, 2.75, -11.75, 0.999999, 2.75, -19.5, 0.999999, 10.25, -19.5, 0.999999, 19.5, -9.75, 0.999999, 19.5, 19.5, 0.999999, -3.5, 10.25, 0.999999, -9.25, 8.75, 0.999999, -9.25, 19.5, 0.999999, 4.25, -11.75, 0.999999, 2.75, -12, 0.999999, 1.25, -19.5, 0.999999, 1.25, -19.5, 0.999999, 10.25, 19.5, 0.999999, -11, 10.75, 0.999999, -11.25, 10.75, 0.999999, -9.75, -8.75, 0.999999, -9.25, -10, 0.999999, -9.25, -10.25, 0.999999, -0.5, -9.75, 0.999999, -0.25, -9.75, 0.999999, 2.25, -10.25, 0.999999, 2.75, -9.75, 0.999999, 19.5, 0, 0.999999, 19.5, 19.5, 0.999999, -11, 10.75, 0.999999, -9.75, 10.25, 0.999999, -9.25, 19.5, 0.999999, -3.5, -8.25, 0.999999, -9.75, -8.75, 0.999999, -9.25, -9.75, 0.999999, -0.25, -9.75, 0.999999, 2.25, 9.75, 0.999999, 19.5, 19.5, 0.999999, 11.75, 19.5, 0.999999, 4.25, 9.75, 0.999999, 19.5, 19.5, 0.999999, 19.5, 19.5, 0.999999, 11.75, 8.75, 0.999999, -9.25, -8.25, 0.999999, -9.75, -9.75, 0.999999, 2.25, 0, 0.999999, 19.5, 9.75, 0.999999, 19.5, 19.5, 0.999999, 4.25, -19.5, 0.999999, 1.25, -12, 0.999999, 1.25, -12, 0.999999, -0.25, -19.5, 0.999999, -5.25, -10.25, 0.999999, -0.5, -10, 0.999999, -9.25, -10.5, 0.999999, -9.5, -19.5, 0.999999, -11.5, -19.5, 0.999999, -5.25, -12, 0.999999, -0.25, -10.5, 0.999999, -9.5, -10.5, 0.999999, -11.5, -19.5, 0.999999, -11.5 )
polygons = [ PoolIntArray( 3, 2, 0 ), PoolIntArray( 0, 2, 1 ), PoolIntArray( 6, 5, 4 ), PoolIntArray( 9, 8, 7 ), PoolIntArray( 12, 11, 10 ), PoolIntArray( 13, 15, 14 ), PoolIntArray( 18, 17, 16 ), PoolIntArray( 19, 21, 20 ), PoolIntArray( 25, 24, 22 ), PoolIntArray( 22, 24, 23 ), PoolIntArray( 27, 26, 28 ), PoolIntArray( 31, 30, 29 ), PoolIntArray( 35, 34, 32 ), PoolIntArray( 32, 34, 33 ), PoolIntArray( 38, 37, 36 ), PoolIntArray( 41, 40, 39 ), PoolIntArray( 44, 43, 42 ), PoolIntArray( 47, 46, 45 ), PoolIntArray( 50, 49, 48 ), PoolIntArray( 53, 52, 51 ), PoolIntArray( 55, 54, 56 ), PoolIntArray( 56, 54, 57 ), PoolIntArray( 57, 54, 58 ), PoolIntArray( 58, 54, 59 ), PoolIntArray( 62, 61, 60 ), PoolIntArray( 64, 63, 65 ), PoolIntArray( 65, 63, 66 ), PoolIntArray( 66, 63, 68 ), PoolIntArray( 66, 68, 67 ), PoolIntArray( 70, 69, 71 ), PoolIntArray( 71, 69, 72 ), PoolIntArray( 72, 69, 73 ), PoolIntArray( 75, 74, 76 ), PoolIntArray( 76, 74, 77 ), PoolIntArray( 79, 78, 80 ), PoolIntArray( 80, 78, 81 ), PoolIntArray( 84, 83, 82 ), PoolIntArray( 87, 86, 88 ), PoolIntArray( 88, 86, 85 ), PoolIntArray( 90, 89, 91 ), PoolIntArray( 91, 89, 92 ), PoolIntArray( 94, 93, 95 ), PoolIntArray( 95, 93, 96 ), PoolIntArray( 98, 97, 99 ), PoolIntArray( 99, 97, 100 ), PoolIntArray( 103, 102, 101 ), PoolIntArray( 106, 105, 104 ), PoolIntArray( 108, 107, 109 ), PoolIntArray( 109, 107, 112 ), PoolIntArray( 109, 112, 111 ), PoolIntArray( 109, 111, 110 ), PoolIntArray( 114, 113, 115 ), PoolIntArray( 115, 113, 116 ), PoolIntArray( 118, 117, 119 ), PoolIntArray( 119, 117, 122 ), PoolIntArray( 119, 122, 121 ), PoolIntArray( 119, 121, 120 ), PoolIntArray( 125, 124, 123 ) ]
cell_height = 0.5

[sub_resource type="PlaneMesh" id=1]

[sub_resource type="SpatialMaterial" id=2]
albedo_texture = ExtResource( 2 )

[sub_resource type="CubeMesh" id=3]

[sub_resource type="SpatialMaterial" id=4]
albedo_texture = ExtResource( 2 )

[sub_resource type="CylinderMesh" id=5]

[sub_resource type="CubeMesh" id=6]
size = Vector3( 1, 3, 2 )

[sub_resource type="SpatialMaterial" id=7]
albedo_texture = ExtResource( 2 )

[sub_resource type="CubeMesh" id=8]
size = Vector3( 1, 2, 1 )

[sub_resource type="SpatialMaterial" id=9]
albedo_texture = ExtResource( 2 )

[sub_resource type="Resource" id=10]
script = ExtResource( 4 )
base = 2
secondaries = [  ]
secondary_idx = 0

[node name="World" type="Spatial"]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="."]
navmesh = SubResource( 11 )

[node name="Level" type="Spatial" parent="NavigationMeshInstance"]

[node name="CSGMesh" type="CSGMesh" parent="NavigationMeshInstance/Level"]
transform = Transform( 20, 0, 0, 0, 20, 0, 0, 0, 20, 0, 0, 0 )
use_collision = true
mesh = SubResource( 1 )
material = SubResource( 2 )

[node name="CSGCombiner" type="CSGCombiner" parent="NavigationMeshInstance/Level"]
use_collision = true

[node name="CSGMesh2" type="CSGMesh" parent="NavigationMeshInstance/Level/CSGCombiner"]
transform = Transform( 10, 0, 0, 0, 5, 0, 0, 0, 5, 0, 5, -15 )
use_collision = true
mesh = SubResource( 3 )
material = SubResource( 4 )

[node name="CSGMesh3" type="CSGMesh" parent="NavigationMeshInstance/Level/CSGCombiner"]
transform = Transform( 9, 0, 0, 0, 5, 0, 0, 0, 9, 0, 5, -10 )
operation = 2
use_collision = true
mesh = SubResource( 5 )
material = SubResource( 4 )

[node name="CSGCombiner2" type="CSGCombiner" parent="NavigationMeshInstance/Level"]
use_collision = true

[node name="CSGMesh" type="CSGMesh" parent="NavigationMeshInstance/Level/CSGCombiner2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 1.5, 1 )
mesh = SubResource( 6 )
material = SubResource( 7 )

[node name="CSGMesh2" type="CSGMesh" parent="NavigationMeshInstance/Level/CSGCombiner2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 2, 1 )
operation = 2
mesh = SubResource( 8 )
material = SubResource( 9 )

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )

[node name="Enemy" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 1, 1 )
_move_mode = 3
_gun = SubResource( 10 )
_accuracy_mode = 0
_reaction_mode = 0
_path_points_path = NodePath("../EnemyPoints")

[node name="EnemyPoints" type="Spatial" parent="."]

[node name="Point1" type="Spatial" parent="EnemyPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 4 )

[node name="Point2" type="Spatial" parent="EnemyPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 14 )

[node name="Point3" type="Spatial" parent="EnemyPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 0, 9 )

[node name="Point4" type="Spatial" parent="EnemyPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, -7 )
